# Technical Context

Этот документ содержит перечень технологий, библиотек и инструментов, используемых в проекте.

## Основной стек

- **Среда выполнения**: Node.js
- **Фреймворк**: Next.js v15
- **Библиотека UI**: React v19
- **Язык**: TypeScript
- **База данных**: PostgreSQL
- **ORM**: Prisma
- **Кэш / Pub/Sub**: Redis (с `ioredis`)
- **Real-time**: Socket.IO (с `@socket.io/redis-adapter` для масштабирования)

## UI и клиентская часть

- **UI-компоненты**: Material-UI (MUI)
- **PWA**: `next-pwa` для генерации Service Worker и Manifest.
- **Управление состоянием**: Zustand
- **HTTP-клиент**: Нативный `fetch` в серверных компонентах и `axios` или кастомная обертка на клиенте.
- **Криптография**: Web Crypto API для E2E-шифрования.
- **Push-уведомления**:
    - **Клиент**: Push API, Notifications API, Badging API.
    - **Сервер**: `web-push` (Node.js библиотека).
- **UI-уведомления (тосты)**: `react-hot-toast`.

## Инструменты и качество кода

- **Оркестрация**: Docker, Docker Compose
- **Линтинг**: ESLint
- **Форматирование**: Prettier
- **Git Hooks**: Husky для pre-commit проверок.
- **Тестирование**:
    - **Unit-тесты**: Jest
    - **E2E-тесты**: Playwright
- **Валидация**: Zod для валидации схем и данных.
- **Мониторинг и логирование**:
    - Prometheus / Grafana (планируется)
    - Sentry (планируется)

## Ограничения и допущения

- **Версии**: Проект ориентирован на использование последних стабильных версий ключевых технологий (Next.js 15, React 19).
- **Архитектура**: Решение о выносе Socket.IO в отдельный сервис является ключевым и накладывает необходимость поддерживать два отдельных приложения и их взаимодействие через Redis.
- **Безопасность**: Ставка на E2E-шифрование означает, что логика шифрования/дешифрования будет полностью на клиенте, а сервер не будет иметь доступа к содержимому сообщений. 